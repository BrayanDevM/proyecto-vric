<div class="content">
  <div class="container-fluid">
    <app-breadcrumb></app-breadcrumb>
    <form>
      <div class="row" style="position: relative; z-index: 1;">
        <div class="col-4">
          <div *ngIf="usuario" class="card BDM_fadeInUp">
            <div class="card-body">
              <h4 class="card-title">Editar usuario</h4>
              <div class="row">
                <div class="form-group col-12">
                  <label for="nombre">Nombre completo</label>
                  <input
                    [(ngModel)]="usuario.nombre"
                    type="text"
                    class="form-control"
                    placeholder="Nombre..."
                    name="nombre"
                    required
                  />
                </div>
                <div class="form-group col-12">
                  <label for="documento">Documento</label>
                  <input
                    [(ngModel)]="usuario.documento"
                    type="text"
                    class="form-control"
                    placeholder="No. documento..."
                    name="documento"
                    required
                  />
                </div>
                <div class="form-group col-12">
                  <label for="correo">Correo</label>
                  <input
                    [(ngModel)]="usuario.correo"
                    type="email"
                    class="form-control"
                    placeholder="Correo..."
                    name="correo"
                    required
                  />
                </div>
                <div class="form-group col-12">
                  <label for="telefono">Telefono</label>
                  <input
                    [(ngModel)]="usuario.telefono"
                    type="text"
                    class="form-control"
                    placeholder="Telefono..."
                    name="telefono"
                  />
                </div>
              </div>
              <div class="row">
                <div class="form-group col-6">
                  <label for="rol">Rol</label>
                  <ng-select
                    [items]="roles"
                    bindValue="value"
                    bindLabel="label"
                    [searchable]="false"
                    placeholder="Establecer rol"
                    [(ngModel)]="usuario.rol"
                    name="rol"
                  >
                    <ng-template ng-label-tmp let-item="item">
                      <i [class]="item.icon"></i>
                      {{ item.label }}
                    </ng-template>
                  </ng-select>
                </div>
                <div class="form-group col-6">
                  <label for="contratos">Contratos</label>
                  <ng-select
                    [items]="contratosDisponibles"
                    bindValue="_id"
                    bindLabel="codigo"
                    [searchable]="false"
                    [multiple]="true"
                    placeholder="Seleccionar contrato"
                    [(ngModel)]="usuario.contratos"
                    name="contratos"
                  ></ng-select>
                </div>
                <div class="form-group col-12">
                  <label for="password">Contraseña</label>
                  <div class="input-group">
                    <input
                      [(ngModel)]="usuario.password"
                      placeholder="Contraseña..."
                      class="form-control"
                      name="password"
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-12 text-right mt-2">
                  <button
                    *ngIf="!actualizando"
                    (click)="actualizarUsuario()"
                    type="button"
                    class="btn btn-success btn-sm"
                  >
                    <i class="fas fa-sync"></i> Actualizar
                  </button>
                  <button
                    *ngIf="actualizando"
                    [disabled]="actualizando"
                    type="button"
                    class="btn btn-success btn-sm disabled"
                  >
                    <span
                      class="spinner-border spinner-border-sm"
                      role="status"
                      aria-hidden="true"
                    ></span>
                    Actualizando
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
