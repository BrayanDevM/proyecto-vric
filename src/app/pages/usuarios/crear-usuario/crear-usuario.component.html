<div class="content">
  <div class="container-fluid">
    <app-breadcrumb></app-breadcrumb>
    <form
      ngNativeValidate
      [formGroup]="formUsuario"
      (ngSubmit)="crearUsuario()"
    >
      <div class="row" style="position: relative; z-index: 1;">
        <div class="col-3">
          <div class="card BDM_fadeInUp">
            <div class="card-body">
              <h4 class="card-title">Crear usuario</h4>
              <div class="row">
                <div class="form-group col-12">
                  <label for="nombre">Nombre completo</label>
                  <input
                    formControlName="nombre"
                    name="nombre"
                    type="text"
                    class="form-control"
                    placeholder="Nombre..."
                    required
                  />
                </div>
                <div class="form-group col-12">
                  <label for="documento">Documento</label>
                  <input
                    formControlName="documento"
                    name="documento"
                    type="text"
                    class="form-control"
                    placeholder="No. documento..."
                    required
                  />
                </div>
                <div class="form-group col-12">
                  <label for="correo">Correo</label>
                  <input
                    formControlName="correo"
                    name="correo"
                    type="email"
                    class="form-control"
                    [ngClass]="{ 'is-invalid': correoExiste }"
                    placeholder="Correo..."
                    required
                  />
                </div>
                <div class="form-group col-12">
                  <label for="telefono">Telefono</label>
                  <input
                    formControlName="telefono"
                    name="telefono"
                    type="text"
                    class="form-control"
                    placeholder="Telefono..."
                  />
                </div>
              </div>
              <div class="row">
                <div class="form-group col-6">
                  <label for="rol">Rol</label>
                  <ng-select
                    [items]="roles"
                    bindValue="value"
                    bindLabel="label"
                    placeholder="Seleccionar rol"
                    [searchable]="false"
                    formControlName="rol"
                    name="rol"
                  ></ng-select>
                </div>
                <div class="form-group col-6">
                  <label for="contratos">Contratos</label>
                  <ng-select
                    [items]="contratosDisponibles"
                    bindValue="_id"
                    bindLabel="codigo"
                    placeholder="Seleccionar rol"
                    [multiple]="true"
                    [searchable]="false"
                    [loading]="cargandoContratos"
                    formControlName="contratos"
                    name="contratos"
                  ></ng-select>
                </div>
                <div class="form-group col-12">
                  <label for="password">Contraseña</label>
                  <div class="input-group">
                    <input
                      #password
                      formControlName="password"
                      [attr.type]="verPassword"
                      placeholder="Contraseña..."
                      class="form-control"
                      name="password"
                    />
                    <div class="input-group-append">
                      <button
                        *ngIf="verPassword === 'password'"
                        (click)="cambiarInputPassword()"
                        class="btn btn-outline-secondary"
                        type="button"
                      >
                        <i class="fad fa-eye"></i>
                      </button>
                      <button
                        *ngIf="verPassword === 'text'"
                        (click)="cambiarInputPassword()"
                        class="btn btn-outline-secondary"
                        type="button"
                      >
                        <i class="fad fa-eye-slash"></i>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-12 text-right mt-2">
                  <button
                    *ngIf="!creandoUsuario"
                    type="submit"
                    class="btn btn-success btn-sm"
                  >
                    <i class="fas fa-save"></i> Crear
                  </button>
                  <button
                    *ngIf="creandoUsuario"
                    type="submit"
                    class="btn btn-success btn-sm disabled"
                  >
                    <i class="far fa-sync fa-spin"></i> Creando
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
